# Oh My Zsh Configuration Template
# This file is used as a template when Oh My Zsh is installed
# It will be copied to ~/.zshrc only after Oh My Zsh installation

# Path to your oh-my-zsh installation
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Uncomment the following line to use hyphen-insensitive completion
HYPHEN_INSENSITIVE="true"

# Uncomment the following line to enable command auto-correction
ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion
COMPLETION_WAITING_DOTS="true"

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
plugins=(
    git                    # Git aliases and functions
    ubuntu                 # Ubuntu-specific aliases
    command-not-found      # Suggests packages for unknown commands
    sudo                   # Press ESC twice to add sudo to command
    history                # History management shortcuts
    z                      # Directory jumping
    docker                 # Docker completions and aliases
    docker-compose         # Docker Compose completions
    npm                    # npm completions and aliases
    node                   # Node.js completions
    python                 # Python completions
    colored-man-pages      # Colorful man pages
    extract                # Extract various archive formats
    zsh-autosuggestions    # Fish-like autosuggestions (custom plugin)
    zsh-syntax-highlighting # Syntax highlighting (custom plugin)
)

# Source Oh My Zsh
source $ZSH/oh-my-zsh.sh

# User configuration
export LANG=en_US.UTF-8
export EDITOR='vim'
export VISUAL='vim'

# Set PATH
export PATH="$HOME/.local/bin:$HOME/bin:$PATH"

# History configuration
HISTSIZE=10000
SAVEHIST=10000
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE

# Load custom configurations from .zshrc.d directory (if exists)
# This allows us to reuse the modular configs we already created
if [ -d "$HOME/.zshrc.d" ]; then
    for config in "$HOME/.zshrc.d"/*.zsh; do
        if [ -f "$config" ]; then
            source "$config"
        fi
    done
fi

# WSL-specific configurations are already in .zshrc.d/40-wsl.zsh

# Load local configuration if it exists
if [ -f "$HOME/.zshrc.local" ]; then
    source "$HOME/.zshrc.local"
fi

# Auto-suggestions configuration
if type zsh-autosuggestions >/dev/null 2>&1; then
    ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=240'
fi